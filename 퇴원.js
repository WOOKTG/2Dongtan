// 전역에서 clusterer 객체를 참조할 수 있도록 설정
if (typeof clusterer === 'undefined') {
    var clusterer = new kakao.maps.MarkerClusterer({
        map: map, // 마커들을 클러스터로 관리하고 표시할 지도 객체 
        averageCenter: true, // 클러스터의 중앙을 계산하여 위치를 설정
        minLevel: 1 // 클러스터링을 시작할 최소 지도 레벨
    });
}

// 기존 클러스터 마커를 제거하는 함수
function clearClusterMarkers() {
    if (typeof clusterer !== 'undefined') {
        clusterer.clear(); // 모든 클러스터 마커를 제거합니다.
    }
}

var button = document.getElementById("퇴원");
button.addEventListener("click", function() {
    clearClusterMarkers(); // 기존 마커들을 먼저 제거  
var positions = [
{'lat': 37.1878708, 'lng': 127.1223759},
{'lat': 37.1889022, 'lng': 127.1276803},
{'lat': 37.1878708, 'lng': 127.1223759},
{'lat': 37.1847529, 'lng': 127.1210298},
{'lat': 37.1847529, 'lng': 127.1210298},
{'lat': 37.1866114, 'lng': 127.1252207},
{'lat': 37.1889022, 'lng': 127.1276803},
{'lat': 37.1862691, 'lng': 127.1276458},
{'lat': 37.1862691, 'lng': 127.1276458},
{'lat': 37.1878708, 'lng': 127.1223759},
{'lat': 37.1866114, 'lng': 127.1252207},
{'lat': 37.1806294, 'lng': 127.1168376},
{'lat': 37.1806294, 'lng': 127.1168376},
{'lat': 37.1866114, 'lng': 127.1252207},
{'lat': 37.1889022, 'lng': 127.1276803},
{'lat': 37.1866114, 'lng': 127.1252207},
{'lat': 37.1866114, 'lng': 127.1252207},
{'lat': 37.1878708, 'lng': 127.1223759},
{'lat': 37.1878708, 'lng': 127.1223759},
{'lat': 37.1908671, 'lng': 127.1269866},
{'lat': 37.1908671, 'lng': 127.1269866},
{'lat': 37.1862691, 'lng': 127.1276458},
{'lat': 37.1847529, 'lng': 127.1210298},
{'lat': 37.1866114, 'lng': 127.1252207},
{'lat': 37.1889022, 'lng': 127.1276803},
{'lat': 37.1878708, 'lng': 127.1223759},
{'lat': 37.1889022, 'lng': 127.1276803},
{'lat': 37.1806294, 'lng': 127.1168376},
{'lat': 37.173131, 'lng': 127.1182405},
{'lat': 37.174129, 'lng': 127.1085879},
{'lat': 37.1715375, 'lng': 127.1090252},
{'lat': 37.1715375, 'lng': 127.1090252},
{'lat': 37.167646, 'lng': 127.1116659},
{'lat': 37.1755018, 'lng': 127.1238244},
{'lat': 37.1736574, 'lng': 127.1200475},
{'lat': 37.1715375, 'lng': 127.1090252},
{'lat': 37.174129, 'lng': 127.1085879},
{'lat': 37.1672011, 'lng': 127.1089588},
{'lat': 37.1776288999999, 'lng': 127.1152925},
{'lat': 37.174129, 'lng': 127.1085879},
{'lat': 37.167646, 'lng': 127.1116659},
{'lat': 37.1656723, 'lng': 127.129402},
{'lat': 37.1715375, 'lng': 127.1090252},
{'lat': 37.174129, 'lng': 127.1085879},
{'lat': 37.174129, 'lng': 127.1085879},
{'lat': 37.1656723, 'lng': 127.129402},
{'lat': 37.173131, 'lng': 127.1182405},
{'lat': 37.1715375, 'lng': 127.1090252},
{'lat': 37.174129, 'lng': 127.1085879},
{'lat': 37.174129, 'lng': 127.1085879},
{'lat': 37.174129, 'lng': 127.1085879},
{'lat': 37.1776288999999, 'lng': 127.1152925},
{'lat': 37.174129, 'lng': 127.1085879},
{'lat': 37.1715375, 'lng': 127.1090252},
{'lat': 37.174129, 'lng': 127.1085879},
{'lat': 37.1672011, 'lng': 127.1089588},
{'lat': 37.1715375, 'lng': 127.1090252},
{'lat': 37.1715375, 'lng': 127.1090252},
{'lat': 37.1712824, 'lng': 127.1044705},
{'lat': 37.1708733, 'lng': 127.0975652},
{'lat': 37.1712824, 'lng': 127.1044705},
{'lat': 37.1739373, 'lng': 127.1038435},
{'lat': 37.1712824, 'lng': 127.1044705},
{'lat': 37.1739373, 'lng': 127.1038435},
{'lat': 37.1712824, 'lng': 127.1044705},
{'lat': 37.1712824, 'lng': 127.1044705},
{'lat': 37.1712824, 'lng': 127.1044705},
{'lat': 37.1712824, 'lng': 127.1044705},
{'lat': 37.1712824, 'lng': 127.1044705},
{'lat': 37.1712824, 'lng': 127.1044705},
{'lat': 37.1739373, 'lng': 127.1038435},
{'lat': 37.1712824, 'lng': 127.1044705},
{'lat': 37.1712824, 'lng': 127.1044705},
{'lat': 37.1712824, 'lng': 127.1044705},
{'lat': 37.1739373, 'lng': 127.1038435},
{'lat': 37.1712824, 'lng': 127.1044705},
{'lat': 37.1739373, 'lng': 127.1038435},
{'lat': 37.206547, 'lng': 127.1020107},
{'lat': 37.206547, 'lng': 127.1020107},
{'lat': 37.206547, 'lng': 127.1020107},
{'lat': 37.2083779, 'lng': 127.1013068},
{'lat': 37.2083779, 'lng': 127.1013068},
{'lat': 37.2083779, 'lng': 127.1013068},
{'lat': 37.2083779, 'lng': 127.1013068},
{'lat': 37.2083779, 'lng': 127.1013068},
{'lat': 37.2083779, 'lng': 127.1013068},
{'lat': 37.2170753, 'lng': 127.1120021},
{'lat': 37.2170753, 'lng': 127.1120021},
{'lat': 37.2119157, 'lng': 127.1124695},
{'lat': 37.2119157, 'lng': 127.1124695},
{'lat': 37.2119157, 'lng': 127.1124695},
{'lat': 37.2119157, 'lng': 127.1124695},
{'lat': 37.215561, 'lng': 127.0920353},
{'lat': 37.215561, 'lng': 127.0920353},
{'lat': 37.215561, 'lng': 127.0920353},
{'lat': 37.215561, 'lng': 127.0920353},
{'lat': 37.215561, 'lng': 127.0920353},
{'lat': 37.215561, 'lng': 127.0920353},
{'lat': 37.2062085, 'lng': 127.1164211},
{'lat': 37.2062085, 'lng': 127.1164211},
{'lat': 37.2062085, 'lng': 127.1164211},
{'lat': 37.2062085, 'lng': 127.1164211},
{'lat': 37.2062085, 'lng': 127.1164211},
{'lat': 37.2062085, 'lng': 127.1164211},
{'lat': 37.2062085, 'lng': 127.1164211},
{'lat': 37.2062085, 'lng': 127.1164211},
{'lat': 37.2062085, 'lng': 127.1164211},
{'lat': 37.2062085, 'lng': 127.1164211},
{'lat': 37.2089015, 'lng': 127.1169371},
{'lat': 37.2089015, 'lng': 127.1169371},
{'lat': 37.2048592, 'lng': 127.1110332},
{'lat': 37.2048645, 'lng': 127.1109147},
{'lat': 37.2048645, 'lng': 127.1109147},
{'lat': 37.2089015, 'lng': 127.1169371},
{'lat': 37.2048592, 'lng': 127.1110332},
{'lat': 37.2089015, 'lng': 127.1169371},
{'lat': 37.209141, 'lng': 127.1106024},
{'lat': 37.2053596, 'lng': 127.1088455},
{'lat': 37.2163531, 'lng': 127.1067093},
{'lat': 37.2089015, 'lng': 127.1169371},
{'lat': 37.2110298, 'lng': 127.1201017},
{'lat': 37.2071875, 'lng': 127.1047629},
{'lat': 37.2071875, 'lng': 127.1047629},
{'lat': 37.209141, 'lng': 127.1106024},
{'lat': 37.209141, 'lng': 127.1106024},
{'lat': 37.2053596, 'lng': 127.1088455},
{'lat': 37.2105205, 'lng': 127.1019693},
{'lat': 37.2105205, 'lng': 127.1019693},
{'lat': 37.2067045999999, 'lng': 127.1051318},
{'lat': 37.1962177, 'lng': 127.0974142},
{'lat': 37.1962177, 'lng': 127.0974142},
{'lat': 37.1962177, 'lng': 127.0974142},
{'lat': 37.1962177, 'lng': 127.0974142},
{'lat': 37.1962177, 'lng': 127.0974142},
{'lat': 37.1821216, 'lng': 127.1053026},
{'lat': 37.1815884, 'lng': 127.1022941},
{'lat': 37.1806975999999, 'lng': 127.1083999},
{'lat': 37.1991893, 'lng': 127.09744},
{'lat': 37.18131, 'lng': 127.1109148},
{'lat': 37.18131, 'lng': 127.1109148},
{'lat': 37.18131, 'lng': 127.1109148},
{'lat': 37.2040507, 'lng': 127.0972084},
{'lat': 37.1991893, 'lng': 127.09744},
{'lat': 37.1991893, 'lng': 127.09744},
{'lat': 37.1991893, 'lng': 127.09744},
{'lat': 37.1991893, 'lng': 127.09744},
{'lat': 37.1991893, 'lng': 127.09744},
{'lat': 37.1991893, 'lng': 127.09744},
{'lat': 37.1991893, 'lng': 127.09744},
{'lat': 37.1991893, 'lng': 127.09744},
{'lat': 37.1991893, 'lng': 127.09744},
{'lat': 37.1991893, 'lng': 127.09744},
{'lat': 37.1991893, 'lng': 127.09744},
{'lat': 37.1991893, 'lng': 127.09744},
{'lat': 37.1991893, 'lng': 127.09744},
{'lat': 37.1991893, 'lng': 127.09744},
{'lat': 37.1914746, 'lng': 127.0977858},
{'lat': 37.1914746, 'lng': 127.0977858},
{'lat': 37.1914746, 'lng': 127.0977858},
{'lat': 37.1914746, 'lng': 127.0977858},
{'lat': 37.1914746, 'lng': 127.0977858},
{'lat': 37.1914746, 'lng': 127.0977858},
{'lat': 37.1914746, 'lng': 127.0977858},
{'lat': 37.1962232, 'lng': 127.0974068},
{'lat': 37.1645742, 'lng': 127.1091795},
{'lat': 37.1597601, 'lng': 127.1210078},
{'lat': 37.1620183, 'lng': 127.1205895},
{'lat': 37.1644939, 'lng': 127.1051012},
{'lat': 37.1584233, 'lng': 127.1116261},
{'lat': 37.1625858, 'lng': 127.1174625},
{'lat': 37.1584233, 'lng': 127.1116261},
{'lat': 37.1582982, 'lng': 127.0989759},
{'lat': 37.159655, 'lng': 127.1066129},
{'lat': 37.1584233, 'lng': 127.1116261},
{'lat': 37.1976581, 'lng': 127.1100019},
{'lat': 37.1976581, 'lng': 127.1100019},
{'lat': 37.1976581, 'lng': 127.1100019},
{'lat': 37.1976581, 'lng': 127.1100019},
{'lat': 37.1976581, 'lng': 127.1100019},
{'lat': 37.1976581, 'lng': 127.1100019},
{'lat': 37.1976581, 'lng': 127.1100019},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.2022361, 'lng': 127.1119664},
{'lat': 37.2022361, 'lng': 127.1119664},
{'lat': 37.2022361, 'lng': 127.1119664},
{'lat': 37.2022361, 'lng': 127.1119664},
{'lat': 37.2022361, 'lng': 127.1119664},
{'lat': 37.2022361, 'lng': 127.1119664},
{'lat': 37.2022361, 'lng': 127.1119664},
{'lat': 37.2022361, 'lng': 127.1119664},
{'lat': 37.2022361, 'lng': 127.1119664},
{'lat': 37.1985068, 'lng': 127.1000673},
{'lat': 37.1985068, 'lng': 127.1000673},
{'lat': 37.1985068, 'lng': 127.1000673},
{'lat': 37.1985068, 'lng': 127.1000673},
{'lat': 37.1985068, 'lng': 127.1000673},
{'lat': 37.1985068, 'lng': 127.1000673},
{'lat': 37.1985068, 'lng': 127.1000673},
{'lat': 37.1985068, 'lng': 127.1000673},
{'lat': 37.202389, 'lng': 127.1080263},
{'lat': 37.202389, 'lng': 127.1080263},
{'lat': 37.202389, 'lng': 127.1080263},
{'lat': 37.202389, 'lng': 127.1080263},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.1974276, 'lng': 127.1025942},
{'lat': 37.2013359, 'lng': 127.1034648},
{'lat': 37.2013359, 'lng': 127.1034648},
{'lat': 37.2025549, 'lng': 127.1046371},
{'lat': 37.2025549, 'lng': 127.1046371},
{'lat': 37.2025549, 'lng': 127.1046371},
{'lat': 37.2025549, 'lng': 127.1046371},
{'lat': 37.2025549, 'lng': 127.1046371},
{'lat': 37.2025549, 'lng': 127.1046371},
{'lat': 37.2025549, 'lng': 127.1046371},
{'lat': 37.2025549, 'lng': 127.1046371},
{'lat': 37.2025549, 'lng': 127.1046371},
{'lat': 37.2025549, 'lng': 127.1046371},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.2029731, 'lng': 127.1004673},
{'lat': 37.1986911, 'lng': 127.1064661},
{'lat': 37.1986911, 'lng': 127.1064661},
{'lat': 37.1940271, 'lng': 127.1178139},
{'lat': 37.1940271, 'lng': 127.1178139},
{'lat': 37.1940271, 'lng': 127.1178139},
{'lat': 37.1940271, 'lng': 127.1178139},
{'lat': 37.1940271, 'lng': 127.1178139},
{'lat': 37.1960148, 'lng': 127.1133935},
{'lat': 37.1960148, 'lng': 127.1133935},
{'lat': 37.1960148, 'lng': 127.1133935},
{'lat': 37.1960148, 'lng': 127.1133935},
{'lat': 37.1960148, 'lng': 127.1133935},
{'lat': 37.1960148, 'lng': 127.1133935},
{'lat': 37.1960148, 'lng': 127.1133935},
{'lat': 37.1960148, 'lng': 127.1133935},
{'lat': 37.1960148, 'lng': 127.1133935},
{'lat': 37.1960148, 'lng': 127.1133935},
{'lat': 37.1960148, 'lng': 127.1133935},
{'lat': 37.1960148, 'lng': 127.1133935},
{'lat': 37.1970008, 'lng': 127.1148319},
{'lat': 37.1970008, 'lng': 127.1148319},
{'lat': 37.1970008, 'lng': 127.1148319},
{'lat': 37.1976581, 'lng': 127.1100019},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1970008, 'lng': 127.1148319},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1970008, 'lng': 127.1148319},
{'lat': 37.1957077, 'lng': 127.1213903},
{'lat': 37.1957077, 'lng': 127.1213903},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1957077, 'lng': 127.1213903},
{'lat': 37.1957077, 'lng': 127.1213903},
{'lat': 37.1991403, 'lng': 127.1144275},
{'lat': 37.1957077, 'lng': 127.1213903},
{'lat': 37.1957077, 'lng': 127.1213903},
{'lat': 37.202389, 'lng': 127.1080263},
{'lat': 37.1957077, 'lng': 127.1213903},
{'lat': 37.198252, 'lng': 127.1185749},
{'lat': 37.2025549, 'lng': 127.1046371},
{'lat': 37.1986911, 'lng': 127.1064661},
{'lat': 37.1986911, 'lng': 127.1064661},
{'lat': 37.198252, 'lng': 127.1185749},
{'lat': 37.1986911, 'lng': 127.1064661},
{'lat': 37.1983168, 'lng': 127.1206004},
{'lat': 37.1983168, 'lng': 127.1206004},
{'lat': 37.1983168, 'lng': 127.1206004},
{'lat': 37.1983168, 'lng': 127.1206004},
{'lat': 37.1983168, 'lng': 127.1206004},
{'lat': 37.1960148, 'lng': 127.1133935},
{'lat': 37.1957077, 'lng': 127.1213903},
{'lat': 37.2019527, 'lng': 127.1187553},
{'lat': 37.1983168, 'lng': 127.1206004},
{'lat': 37.2019527, 'lng': 127.1187553},
{'lat': 37.2024085, 'lng': 127.1153482},
{'lat': 37.2024085, 'lng': 127.1153482},
];
    
    
var markers = positions.map(function(position) {  // 마커를 배열 단위로 묶음
    return new kakao.maps.Marker({
        position : new kakao.maps.LatLng(position.lat, position.lng)
    });
});

clusterer.addMarkers(markers); // 새로운 마커들을 클러스터에 추가
});
